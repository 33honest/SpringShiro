<@com.head title="系统表单">
</@com.head>
<@com.body>
<div class="layui-body">
	<!-- 内容主体区域 -->
	<div style="padding: 15px;">

<!--start-->

		<fieldset class="layui-elem-field site-demo-button">
			<legend>角色管理</legend>
			<div class="layui-btn-group">
				<!--
				<button class="layui-btn">增加</button>
				<button class="layui-btn ">编辑</button>
				<button class="layui-btn">删除</button>
				-->
			</div>
		</fieldset>

		<table class="layui-hide" id="test"></table>

		<script type="text/html" id="checkboxTpl">
			<input type="checkbox" name="lock" value="{{d.available}}" title="锁定" lay-filter="lockDemo" {{ d.available== 0 ? 'checked' : '' }}>
		</script>

		<script>
            layui.use('table', function(){
                var table = layui.table
                    ,form = layui.form;

                table.render({
                    elem: '#test'
                    ,url:'${basePath!}admin/roleListJson.html'
                    ,cellMinWidth: 80
                    ,cols: [[
                        {type:'numbers'}
                        ,{field:'id', title:'ID', width:300, unresize: true, sort: true}
                        ,{field:'name', title:'角色名称', templet: '#usernameTpl'}
                        ,{field:'available', title:'是否禁用', width:110, templet: '#checkboxTpl', unresize: true}
                    ]]
                    ,page: false
                });

                //监听锁定操作
                form.on('checkbox(lockDemo)', function(obj){
                    layer.tips(this.value + ' ' + this.name + '：'+ obj.elem.checked, obj.othis);
                });
            });
		</script>


<!--end-->


	</div>
</div>


</@com.body>